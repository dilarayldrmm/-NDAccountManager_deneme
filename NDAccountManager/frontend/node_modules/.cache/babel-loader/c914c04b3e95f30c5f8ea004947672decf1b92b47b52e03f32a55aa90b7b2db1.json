{"ast":null,"code":"var _jsxFileName = \"/Users/dilarayildirim/Desktop/deneme/NDAccountManager/frontend/src/components/addAccount.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport \"../styles/AddAccountForm.css\"; // veya form bileşeni içinden gelen class’lara göre\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction AddAccountForm({\n  onAccountAdded,\n  editingAccount\n}) {\n  _s();\n  const [platform, setPlatform] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [notes, setNotes] = useState(\"\");\n  const [isShared, setIsShared] = useState(false);\n  const [users, setUsers] = useState([]);\n  const [selectedUsers, setSelectedUsers] = useState([]);\n  useEffect(() => {\n    // Kullanıcı listesini getir\n    axios.get(\"http://localhost:5059/api/Users\").then(res => setUsers(res.data)).catch(err => console.error(\"Kullanıcılar alınamadı\", err));\n  }, []);\n  useEffect(() => {\n    if (editingAccount) {\n      setPlatform(editingAccount.platform || \"\");\n      setUsername(editingAccount.username || \"\");\n      setPassword(editingAccount.password || \"\");\n      setNotes(editingAccount.notes || \"\");\n      setIsShared(editingAccount.isShared || false);\n      setSelectedUsers(editingAccount.sharedWithUserIds || []); // Varsayalım backend bu alanı döndürüyor\n    }\n  }, [editingAccount]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const accountData = {\n      platform,\n      username,\n      password,\n      notes,\n      isShared,\n      sharedWithUserIds: selectedUsers // Paylaşılan kullanıcılar\n    };\n    try {\n      if (editingAccount) {\n        // Güncelleme\n        await axios.put(`http://localhost:5059/api/Accounts/${editingAccount.id}`, accountData);\n      } else {\n        // Yeni hesap ekleme\n        await axios.post(\"http://localhost:5059/api/Accounts\", accountData);\n      }\n      onAccountAdded();\n      // Formu temizle\n      setPlatform(\"\");\n      setUsername(\"\");\n      setPassword(\"\");\n      setNotes(\"\");\n      setIsShared(false);\n      setSelectedUsers([]);\n    } catch (err) {\n      console.error(\"Hesap kaydedilemedi:\", err);\n    }\n  };\n  const handleUserSelect = e => {\n    const options = [...e.target.options];\n    const selected = options.filter(o => o.selected).map(o => o.value);\n    setSelectedUsers(selected);\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"add-account-form\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: platform,\n      onChange: e => setPlatform(e.target.value),\n      placeholder: \"Platform\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: username,\n      onChange: e => setUsername(e.target.value),\n      placeholder: \"Kullan\\u0131c\\u0131 Ad\\u0131\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"password\",\n      value: password,\n      onChange: e => setPassword(e.target.value),\n      placeholder: \"\\u015Eifre\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      value: notes,\n      onChange: e => setNotes(e.target.value),\n      placeholder: \"Notlar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        checked: isShared,\n        onChange: e => setIsShared(e.target.checked)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), \"Payla\\u015F\\u0131ls\\u0131n m\\u0131?\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this), isShared && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Kiminle payla\\u015F\\u0131lacak? (Birden fazla se\\xE7mek i\\xE7in CTRL/CMD tu\\u015Funu kullan\\u0131n)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        multiple: true,\n        value: selectedUsers,\n        onChange: handleUserSelect,\n        children: users.map(user => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: user.id,\n          children: [user.name, \" \"]\n        }, user.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: editingAccount ? \"Güncelle\" : \"Ekle\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n}\n_s(AddAccountForm, \"Tgj5KGsW77Ji637AF9vnT4voL7w=\");\n_c = AddAccountForm;\nexport default AddAccountForm;\nvar _c;\n$RefreshReg$(_c, \"AddAccountForm\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","AddAccountForm","onAccountAdded","editingAccount","_s","platform","setPlatform","username","setUsername","password","setPassword","notes","setNotes","isShared","setIsShared","users","setUsers","selectedUsers","setSelectedUsers","useEffect","get","then","res","data","catch","err","console","error","sharedWithUserIds","handleSubmit","e","preventDefault","accountData","put","id","post","handleUserSelect","options","target","selected","filter","o","map","value","onSubmit","className","children","type","onChange","placeholder","required","fileName","_jsxFileName","lineNumber","columnNumber","checked","multiple","user","name","_c","$RefreshReg$"],"sources":["/Users/dilarayildirim/Desktop/deneme/NDAccountManager/frontend/src/components/addAccount.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport \"../styles/AddAccountForm.css\"; // veya form bileşeni içinden gelen class’lara göre\n\n\n\n\nfunction AddAccountForm({ onAccountAdded, editingAccount }) {\n  const [platform, setPlatform] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [notes, setNotes] = useState(\"\");\n  const [isShared, setIsShared] = useState(false);\n  const [users, setUsers] = useState([]);\n  const [selectedUsers, setSelectedUsers] = useState([]);\n\n  useEffect(() => {\n    // Kullanıcı listesini getir\n    axios.get(\"http://localhost:5059/api/Users\")\n      .then(res => setUsers(res.data))\n      .catch(err => console.error(\"Kullanıcılar alınamadı\", err));\n  }, []);\n\n  useEffect(() => {\n    if (editingAccount) {\n      setPlatform(editingAccount.platform || \"\");\n      setUsername(editingAccount.username || \"\");\n      setPassword(editingAccount.password || \"\");\n      setNotes(editingAccount.notes || \"\");\n      setIsShared(editingAccount.isShared || false);\n      setSelectedUsers(editingAccount.sharedWithUserIds || []); // Varsayalım backend bu alanı döndürüyor\n    }\n  }, [editingAccount]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    const accountData = {\n      platform,\n      username,\n      password,\n      notes,\n      isShared,\n      sharedWithUserIds: selectedUsers, // Paylaşılan kullanıcılar\n    };\n\n    try {\n      if (editingAccount) {\n        // Güncelleme\n        await axios.put(`http://localhost:5059/api/Accounts/${editingAccount.id}`, accountData);\n      } else {\n        // Yeni hesap ekleme\n        await axios.post(\"http://localhost:5059/api/Accounts\", accountData);\n      }\n      onAccountAdded();\n      // Formu temizle\n      setPlatform(\"\");\n      setUsername(\"\");\n      setPassword(\"\");\n      setNotes(\"\");\n      setIsShared(false);\n      setSelectedUsers([]);\n    } catch (err) {\n      console.error(\"Hesap kaydedilemedi:\", err);\n    }\n  };\n\n  const handleUserSelect = (e) => {\n    const options = [...e.target.options];\n    const selected = options.filter(o => o.selected).map(o => o.value);\n    setSelectedUsers(selected);\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"add-account-form\">\n      <input\n        type=\"text\"\n        value={platform}\n        onChange={e => setPlatform(e.target.value)}\n        placeholder=\"Platform\"\n        required\n      />\n      <input\n        type=\"text\"\n        value={username}\n        onChange={e => setUsername(e.target.value)}\n        placeholder=\"Kullanıcı Adı\"\n        required\n      />\n      <input\n        type=\"password\"\n        value={password}\n        onChange={e => setPassword(e.target.value)}\n        placeholder=\"Şifre\"\n        required\n      />\n      <textarea\n        value={notes}\n        onChange={e => setNotes(e.target.value)}\n        placeholder=\"Notlar\"\n      />\n      <label>\n        <input\n          type=\"checkbox\"\n          checked={isShared}\n          onChange={e => setIsShared(e.target.checked)}\n        />\n        Paylaşılsın mı?\n      </label>\n\n      {isShared && (\n        <>\n          <label>Kiminle paylaşılacak? (Birden fazla seçmek için CTRL/CMD tuşunu kullanın)</label>\n          <select multiple value={selectedUsers} onChange={handleUserSelect}>\n            {users.map(user => (\n              <option key={user.id} value={user.id}>\n                {user.name} {/* veya user.fullName */}\n              </option>\n            ))}\n          </select>\n        </>\n      )}\n\n      <button type=\"submit\">{editingAccount ? \"Güncelle\" : \"Ekle\"}</button>\n    </form>\n  );\n}\n\nexport default AddAccountForm;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,8BAA8B,CAAC,CAAC;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAKvC,SAASC,cAAcA,CAAC;EAAEC,cAAc;EAAEC;AAAe,CAAC,EAAE;EAAAC,EAAA;EAC1D,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACY,QAAQ,EAAEC,WAAW,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACc,QAAQ,EAAEC,WAAW,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACgB,KAAK,EAAEC,QAAQ,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACkB,QAAQ,EAAEC,WAAW,CAAC,GAAGnB,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM,CAACoB,KAAK,EAAEC,QAAQ,CAAC,GAAGrB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACsB,aAAa,EAAEC,gBAAgB,CAAC,GAAGvB,QAAQ,CAAC,EAAE,CAAC;EAEtDwB,SAAS,CAAC,MAAM;IACd;IACAvB,KAAK,CAACwB,GAAG,CAAC,iCAAiC,CAAC,CACzCC,IAAI,CAACC,GAAG,IAAIN,QAAQ,CAACM,GAAG,CAACC,IAAI,CAAC,CAAC,CAC/BC,KAAK,CAACC,GAAG,IAAIC,OAAO,CAACC,KAAK,CAAC,wBAAwB,EAAEF,GAAG,CAAC,CAAC;EAC/D,CAAC,EAAE,EAAE,CAAC;EAENN,SAAS,CAAC,MAAM;IACd,IAAIhB,cAAc,EAAE;MAClBG,WAAW,CAACH,cAAc,CAACE,QAAQ,IAAI,EAAE,CAAC;MAC1CG,WAAW,CAACL,cAAc,CAACI,QAAQ,IAAI,EAAE,CAAC;MAC1CG,WAAW,CAACP,cAAc,CAACM,QAAQ,IAAI,EAAE,CAAC;MAC1CG,QAAQ,CAACT,cAAc,CAACQ,KAAK,IAAI,EAAE,CAAC;MACpCG,WAAW,CAACX,cAAc,CAACU,QAAQ,IAAI,KAAK,CAAC;MAC7CK,gBAAgB,CAACf,cAAc,CAACyB,iBAAiB,IAAI,EAAE,CAAC,CAAC,CAAC;IAC5D;EACF,CAAC,EAAE,CAACzB,cAAc,CAAC,CAAC;EAEpB,MAAM0B,YAAY,GAAG,MAAOC,CAAC,IAAK;IAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAElB,MAAMC,WAAW,GAAG;MAClB3B,QAAQ;MACRE,QAAQ;MACRE,QAAQ;MACRE,KAAK;MACLE,QAAQ;MACRe,iBAAiB,EAAEX,aAAa,CAAE;IACpC,CAAC;IAED,IAAI;MACF,IAAId,cAAc,EAAE;QAClB;QACA,MAAMP,KAAK,CAACqC,GAAG,CAAC,sCAAsC9B,cAAc,CAAC+B,EAAE,EAAE,EAAEF,WAAW,CAAC;MACzF,CAAC,MAAM;QACL;QACA,MAAMpC,KAAK,CAACuC,IAAI,CAAC,oCAAoC,EAAEH,WAAW,CAAC;MACrE;MACA9B,cAAc,CAAC,CAAC;MAChB;MACAI,WAAW,CAAC,EAAE,CAAC;MACfE,WAAW,CAAC,EAAE,CAAC;MACfE,WAAW,CAAC,EAAE,CAAC;MACfE,QAAQ,CAAC,EAAE,CAAC;MACZE,WAAW,CAAC,KAAK,CAAC;MAClBI,gBAAgB,CAAC,EAAE,CAAC;IACtB,CAAC,CAAC,OAAOO,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAAC,sBAAsB,EAAEF,GAAG,CAAC;IAC5C;EACF,CAAC;EAED,MAAMW,gBAAgB,GAAIN,CAAC,IAAK;IAC9B,MAAMO,OAAO,GAAG,CAAC,GAAGP,CAAC,CAACQ,MAAM,CAACD,OAAO,CAAC;IACrC,MAAME,QAAQ,GAAGF,OAAO,CAACG,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACF,QAAQ,CAAC,CAACG,GAAG,CAACD,CAAC,IAAIA,CAAC,CAACE,KAAK,CAAC;IAClEzB,gBAAgB,CAACqB,QAAQ,CAAC;EAC5B,CAAC;EAED,oBACEzC,OAAA;IAAM8C,QAAQ,EAAEf,YAAa;IAACgB,SAAS,EAAC,kBAAkB;IAAAC,QAAA,gBACxDhD,OAAA;MACEiD,IAAI,EAAC,MAAM;MACXJ,KAAK,EAAEtC,QAAS;MAChB2C,QAAQ,EAAElB,CAAC,IAAIxB,WAAW,CAACwB,CAAC,CAACQ,MAAM,CAACK,KAAK,CAAE;MAC3CM,WAAW,EAAC,UAAU;MACtBC,QAAQ;IAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACT,CAAC,eACFxD,OAAA;MACEiD,IAAI,EAAC,MAAM;MACXJ,KAAK,EAAEpC,QAAS;MAChByC,QAAQ,EAAElB,CAAC,IAAItB,WAAW,CAACsB,CAAC,CAACQ,MAAM,CAACK,KAAK,CAAE;MAC3CM,WAAW,EAAC,8BAAe;MAC3BC,QAAQ;IAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACT,CAAC,eACFxD,OAAA;MACEiD,IAAI,EAAC,UAAU;MACfJ,KAAK,EAAElC,QAAS;MAChBuC,QAAQ,EAAElB,CAAC,IAAIpB,WAAW,CAACoB,CAAC,CAACQ,MAAM,CAACK,KAAK,CAAE;MAC3CM,WAAW,EAAC,YAAO;MACnBC,QAAQ;IAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACT,CAAC,eACFxD,OAAA;MACE6C,KAAK,EAAEhC,KAAM;MACbqC,QAAQ,EAAElB,CAAC,IAAIlB,QAAQ,CAACkB,CAAC,CAACQ,MAAM,CAACK,KAAK,CAAE;MACxCM,WAAW,EAAC;IAAQ;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACrB,CAAC,eACFxD,OAAA;MAAAgD,QAAA,gBACEhD,OAAA;QACEiD,IAAI,EAAC,UAAU;QACfQ,OAAO,EAAE1C,QAAS;QAClBmC,QAAQ,EAAElB,CAAC,IAAIhB,WAAW,CAACgB,CAAC,CAACQ,MAAM,CAACiB,OAAO;MAAE;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9C,CAAC,uCAEJ;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAO,CAAC,EAEPzC,QAAQ,iBACPf,OAAA,CAAAE,SAAA;MAAA8C,QAAA,gBACEhD,OAAA;QAAAgD,QAAA,EAAO;MAAyE;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eACxFxD,OAAA;QAAQ0D,QAAQ;QAACb,KAAK,EAAE1B,aAAc;QAAC+B,QAAQ,EAAEZ,gBAAiB;QAAAU,QAAA,EAC/D/B,KAAK,CAAC2B,GAAG,CAACe,IAAI,iBACb3D,OAAA;UAAsB6C,KAAK,EAAEc,IAAI,CAACvB,EAAG;UAAAY,QAAA,GAClCW,IAAI,CAACC,IAAI,EAAC,GAAC;QAAA,GADDD,IAAI,CAACvB,EAAE;UAAAiB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAEZ,CACT;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACI,CAAC;IAAA,eACT,CACH,eAEDxD,OAAA;MAAQiD,IAAI,EAAC,QAAQ;MAAAD,QAAA,EAAE3C,cAAc,GAAG,UAAU,GAAG;IAAM;MAAAgD,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAS,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACjE,CAAC;AAEX;AAAClD,EAAA,CAvHQH,cAAc;AAAA0D,EAAA,GAAd1D,cAAc;AAyHvB,eAAeA,cAAc;AAAC,IAAA0D,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}